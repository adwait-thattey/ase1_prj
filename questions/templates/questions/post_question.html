{% extends 'main_page/nav.html' %}
{% load widget_tweaks %}

{% block internal_styles %}
    <style>
    .tabs .indicator{
      background-color: #006064;
    }

    .tabs .tab a:hover{
      background-color: grey lighten-4;
      color: black;
    }
    .tabs .tab a {
      color: #006064;
    }

   .tabs .tab a.active{
      color: #006064;
    }

  </style>
{% endblock internal_styles %}


  {% block main_content %}
    <main>

      <div class="container">
        <div class="card hoverable grey lighten-4">
          <div class="card-content">


            <ul id="tabs-swipe-demo" class="tabs grey lighten-4">
              <li class="tab col s3 " ><a href="#test-swipe-1" class="active">Basic Info</a></li>
              <li class="tab col s3"><a href="#test-swipe-2">Description</a></li>
              <li class="tab col s3" ><a href="#test-swipe-3">Formats</a></li>
            </ul>

            <div id="test-swipe-1" class="col s12">
              <div class="row">
                <div class="col l10 offset-l1 s12">
                  {% if form.non_field_errors %}
                    <span class="red-text">{{ form.non_field_errors }}</span>
                  {% endif %}


                  <form method="post">
                    {% csrf_token %}

                    <div class="input-field col l12 s12">
                      {{form.title|add_class:"materialize-textarea"}}
                      <label for="{{form.title.id_for_label}}">Tittle</label>
                      {% if form.title.help_text %}
                          <span class="helper-text" data-error="wrong" data-success="right">{{form.title.help_text}}</span>
                      {% endif %}
                      {% if form.title.errors %}
                          <span class="helper-text red-text" style="font-size:large">{{form.title.errors</span>
                      {% endif %}
                    </div>

                    <div class="input-field col l6 s12">
                      {{ form.category }}
                    </div>

                    <div class="input-field col l6 s12">
                      {{form.unique_code|add_class:"materialize-textarea"}}
                      <label for="{{form.unique_code.id_for_label}}">Unique Code</label>
                      {% if form.unique_code.help_text %}
                          <span class="helper-text" data-error="wrong" data-success="right">{{form.unique_code.help_text}}</span>
                      {% endif %}
                      {% if form.unique_code.errors %}
                          <span class="helper-text red-text" style="font-size:large">{{form.unique_code.errors}}</span>
                      {% endif %}
                    </div>

                    <div class="input-field col s12">
                      {{form.short_description|add_class:"materialize-textarea"|attr:"id:icon_prefix3"}}
                      <label for="{{form.short_description.id_for_label}}">Short Description</label>
                      {% if form.short_description.help_text %}
                          <span class="helper-text" data-error="wrong" data-success="right">{{form.short_description.help_text}}</span>
                      {% endif %}
                      {% if form.short_description.errors %}
                          <span class="helper-text red-text" style="font-size:large">{{form.short_description.errors</span>
                      {% endif %}
                    </div>
                  <a href="#test-swipe-2" id="btnContinue" class="btn waves-effect right cyan darken-4 white-text">Next</a>
                </div>
              </div>
            </div>


            <div id="test-swipe-2" class="col s12">
              <div class="row">
                <div class="col l12 s12">
                    <div class="input-field col s12 l12 m12">
                      {{form.media}}
                      {{form.description}}
                    </div>
                    <a href="#test-swipe-3" id="btnContinue2" class="btn waves-effect right cyan darken-4 white-text">Next</a>
                    <a href="#test-swipe-1" id="btnBack" class="btn waves-effect left cyan darken-4 white-text">Back</a>
                </div>
              </div>
            </div>


            <div id="test-swipe-3" class="col s12">
              <div class="row">
                <div class="col l10 offset-l1 s12">

                    <div class="input-field col l12 m12 s12">
                      {{form.input_format|add_class:"materialize-textarea"}}
                      <label for="{{form.input_format.id_for_label}}">Input Format</label>
                      {% if form.input_format.help_text %}
                          <span class="helper-text" data-error="wrong" data-success="right">{{form.input_format.help_text}}</span>
                      {% endif %}
                      {% if form.input_format.errors %}
                          <span class="helper-text red-text" style="font-size:large">{{form.input_format.errors }}</span>
                      {% endif %}
                    </div>

                    <div class="input-field col l12 m12 s12">
                      {{form.output_format|add_class:"materialize-textarea"}}
                      <label for="{{form.output_format.id_for_label}}">Output Format</label>
                      {% if form.output_format.help_text %}
                          <span class="helper-text" data-error="wrong" data-success="right">{{form.output_format.help_text}}</span>
                      {% endif %}
                      {% if form.output_format.errors %}
                          <span class="helper-text red-text" style="font-size:large">{{form.output_format.errors }}</span>
                      {% endif %}
                    </div>

                    <div class="input-field col l12 m12 s12">
                      {{form.sample_input|add_class:"materialize-textarea"}}
                      <label for="{{form.sample_input.id_for_label}}">Sample Input</label>
                      {% if form.sample_input.help_text %}
                          <span class="helper-text" data-error="wrong" data-success="right">{{form.sample_input.help_text}}</span>
                      {% endif %}
                      {% if form.sample_input.errors %}
                          <span class="helper-text red-text" style="font-size:large">{{form.sample_input.errors }}</span>
                      {% endif %}
                    </div>

                    <div class="input-field col l12 m12 s12">
                      {{form.sample_output|add_class:"materialize-textarea"}}
                      <label for="{{form.sample_output.id_for_label}}">Sample Output</label>
                      {% if form.sample_output.help_text %}
                          <span class="helper-text" data-error="wrong" data-success="right">{{form.sample_output.help_text}}</span>
                      {% endif %}
                      {% if form.sample_output.errors %}
                          <span class="helper-text red-text" style="font-size:large">{{form.sample_output.errors }}</span>
                      {% endif %}
                    </div>

                    <div class="input-field col l12 m12 s12">
                      {{form.constraints|add_class:"materialize-textarea"}}
                      <label for="{{form.constraints.id_for_label}}">Constraints</label>
                      {% if form.constraints.help_text %}
                          <span class="helper-text" data-error="wrong" data-success="right">{{form.constraints.help_text}}</span>
                      {% endif %}
                      {% if form.constraints.errors %}
                          <span class="helper-text red-text" style="font-size:large">{{form.constraints.errors }}</span>
                      {% endif %}
                    </div>

                    {% comment %}<div class="input-field col l12 m12 s12">
                      {{ form.difficulty }}
                    </div>{% endcomment %}

                    <div class="input-field col l12 m12 s12">
                      {{form.time_limit|add_class:"materialize-textarea"}}
                      <label for="{{form.time_limit.id_for_label}}">Time Limit (in sec.)</label>
                      {% if form.time_limit.help_text %}
                          <span class="helper-text" data-error="wrong" data-success="right">{{form.time_limit.help_text}}</span>
                      {% endif %}
                      {% if form.time_limit.errors %}
                          <span class="helper-text red-text" style="font-size:large">{{form.time_limit.errors</span>
                      {% endif %}
                    </div>

                    <button type="submit" class="btn waves-effect right cyan darken-4 white-text" name="submit">Post</button>
                    <a href="#test-swipe-2" id="btnBack2" class="btn waves-effect left cyan darken-4 white-text">Back</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  {% endblock main_content %}

  {% block custom_eof_scripts %}
      <script>
      $(document).ready(function(){

        $('ul.tabs').tabs({
          swipeable: false,
        });

        $("#btnContinue").click(function() {
          $('ul.tabs').tabs('select', 'test-swipe-2');
        });

        $("#btnContinue2").click(function() {
            $('ul.tabs').tabs('select', 'test-swipe-3');
        });

        $("#btnBack").click(function() {
          $('ul.tabs').tabs('select', 'test-swipe-1');
        });

        $("#btnBack2").click(function() {
          $('ul.tabs').tabs('select', 'test-swipe-2');
        });

        $('select').formSelect();

        $('#textarea1').val();
          M.textareaAutoResize($('#textarea1'));

        $('#icon_prefix3').characterCounter();

      });
      </script>
  {% endblock custom_eof_scripts %}
